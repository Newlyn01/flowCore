<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Class "compensation" — compensation-class • flowCore</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Class "compensation" — compensation-class" />
<meta property="og:description" content="Class and methods to compensate for spillover between channels by applying a
spillover matrix to a flowSet or a flowFrame assuming a simple
linear combination of values." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flowCore</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/RGLab/flowCore">
    <span class="fas fa fa fas fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Class "compensation"</h1>
    
    <div class="hidden name"><code>compensation-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Class and methods to compensate for spillover between channels by applying a
spillover matrix to a <code>flowSet</code> or a <code>flowFrame</code> assuming a simple
linear combination of values.</p>
    </div>

    <pre class="usage"><span class='fu'>compensation</span>(<span class='no'>...</span>, <span class='no'>spillover</span>, <span class='kw'>compensationId</span><span class='kw'>=</span><span class='st'>"defaultCompensation"</span>)

<span class='fu'>compensate</span>(<span class='no'>x</span>, <span class='no'>spillover</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>spillover</th>
      <td><p>The spillover or compensation matrix.</p></td>
    </tr>
    <tr>
      <th>compensationId</th>
      <td><p>The identifier for the compensation object.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>An object of class <code><a href='flowFrame-class.html'>flowFrame</a></code> or
<code><a href='flowSet-class.html'>flowSet</a></code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments.</p>
<p>The constructor is designed to be useful in both programmatic and
interactive settings, and ... serves as a container for possible
arguments. The following combinations of values are allowed:</p>
<p>Elements in ... are <code>character</code> scalars of parameter names or
<code><a href='transform-class.html'>transform</a></code> objects and the colnames in <code>spillover</code>
match to these parameter names.</p>
<p>The first element in ... is a <code>character</code> vector of parameter names
or a list of <code>character</code> scalars or <code><a href='transform-class.html'>transform</a></code>
objects and the colnames in <code>spillover</code> match to these parameter names.</p>
<p>Argument <code>spillover</code> is missing and the first element in ... is a
<code>matrix</code>, in which case it is assumed to be the spillover matrix.</p>
<p>... is missing, in which case all parameter names are taken from the
colnames of <code>spillover</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>compensation</code> object for the constructor.</p>
<p>A <code><a href='flowFrame-class.html'>flowFrame</a></code> or <code><a href='flowSet-class.html'>flowSet</a></code> for the
<code>compensate</code> methods.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The essential premise of compensation is that some fluorochromes may
register signals in detectors that do not correspond to their primary
detector (usually a photomultiplier tube). To compensate for this fact, some
sort of standard is used to obtain the background signal (no dye) and the
amount of signal on secondary channels for each fluorochrome relative to the
signal on their primary channel.</p>
<p>To calculate the spillover percentage we use either the mean or the median
(more often the latter) of the secondary signal minus the background signal
for each dye to obtain <code>n</code> by <code>n</code> matrix, <code>S</code>, of so-called
spillover values, expressed as a percentage of the primary channel. The
observed values are then considered to be a linear combination of the true
fluorescence and the spillover from each other channel so we can obtain the
true values by simply multiplying by the inverse of the spillover matrix.</p>
<p>The spillover matrix can be obtained through several means. Some flow
cytometers provide a spillover matrix calculated during acquisition,
possibly by the operator, that is made available in the metadata of the
flowFrame.  While there is a theoretical standard keyword <code>$SPILL</code> it
can also be found in the <code>SPILLOVER</code> or <code>SPILL</code> keyword depending
on the cytometry. More commonly the spillover matrix is calculated using a
series of compensation cells or beads collected before the experiment. If
you have set of FCS files with one file per fluorochrome as well as an
unstained FCS file you can use the
<code><a href='https://rdrr.io/pkg/flowStats/man/spillover-flowSet.html'>spillover</a></code> method for
<code><a href='flowSet-class.html'>flowSets</a></code> to automatically calculate a
spillover matrix.</p>
<p>The <code>compensation</code> class is essentially a wrapper around a
<code>matrix</code> that allows for transformed parameters and method dispatch.</p>
    <h2 class="hasAnchor" id="slots"><a class="anchor" href="#slots"></a>Slots</h2>

    

<dl'>
<dt><code>spillover</code></dt><dd><p>Object of class <code>matrix</code>; the
spillover matrix.</p></dd>

<dt><code>compensationId</code></dt><dd><p>Object of class <code>character</code>. An
identifier for the object.</p></dd>

<dt><code>parameters</code></dt><dd><p>Object of class <code>parameters</code>. The
flow parameters for which the compensation is defined. This can
also be objects of class <code><a href='transform-class.html'>transform</a></code>, in which
case the compensation is performed on the compensated parameters.</p></dd>

</dl>
    <h2 class="hasAnchor" id="objects-from-the-class"><a class="anchor" href="#objects-from-the-class"></a>Objects from the Class</h2>

    


<p>Objects should be created using the constructor <code>compensation()</code>. See
the <code>Usage</code> and <code>Arguments</code> sections for details.</p>
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    

<dl'>
  
  <dt>compensate</dt><dd><p><code>signature(x = "flowFrame", spillover =
                                      "compensation")</code>: Apply the compensation defined in a
    <code>compensation</code> object on a <code><a href='flowFrame-class.html'>flowFrame</a></code>.
    This returns a compensated <code>flowFrame</code>.    <em>Usage:</em>    <code>   compensate(flowFrame, compensation)</code></p></dd>
  
  <dt>compensate</dt><dd><p><code>signature(x = "flowFrame", spillover =
                                      "matrix")</code>: Apply a compensation matrix to a
    <code><a href='flowFrame-class.html'>flowFrame</a></code>.  This returns a compensated
    <code>flowFrame</code>.    <em>Usage:</em>    <code>   compensate(flowFrame, matrix)</code></p></dd>
  
  <dt>compensate</dt><dd><p><code>signature(x = "flowFrame", spillover =
                                      "data.frame")</code>:Try to coerce the <code>data.frame</code> to a
    <code>matrix</code> and apply that to a
    <code><a href='flowFrame-class.html'>flowFrame</a></code>.  This returns a compensated
    <code>flowFrame</code>.    <em>Usage:</em>    <code>   compensate(flowFrame, data.frame)</code></p></dd>
  
  <dt>identifier, identifier&lt;-</dt><dd><p><code>signature(object =
                                                    "compensation")</code>: Accessor and replacement methods for the
    <code>compensationId</code> slot.    <em>Usage:</em>    <code><a href='identifier-methods.html'>   identifier(compensation)</a></code>    <code>   identifier(compensation) &lt;- value</code></p></dd>
  
  
  <dt>parameters</dt><dd><p><code>signature(object =
                                      "compensation")</code>: Get the parameter names of the
    <code>compensation</code> object. This method also tries to resolve
    all <code><a href='transform-class.html'>transforms</a></code> and
    <code><a href='transformReference-class.html'>transformReferences</a></code>
    before returning the parameters as character vectors. Unresolvable
    references return <code>NA</code>.    <em>Usage:</em>    <code><a href='parameters-methods.html'>   parameters(compensation)</a></code></p></dd>
  
  
  <dt>show</dt><dd><p><code>signature(object = "compensation")</code>: Print details
    about the object.    <em>Usage:</em>    This method is automatically called when the object is printed on
    the screen.</p></dd>  

</dl>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/pkg/flowStats/man/spillover-flowSet.html'>spillover</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>## Read sample data and a sample spillover matrix</span>
<span class='no'>samp</span>   <span class='kw'>&lt;-</span> <span class='fu'><a href='read.flowSet.html'>read.flowSet</a></span>(<span class='kw'>path</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"extdata"</span>, <span class='st'>"compdata"</span>, <span class='st'>"data"</span>,
          <span class='kw'>package</span><span class='kw'>=</span><span class='st'>"flowCore"</span>))
<span class='no'>cfile</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"extdata"</span>,<span class='st'>"compdata"</span>,<span class='st'>"compmatrix"</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>"flowCore"</span>)
<span class='no'>comp.mat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span>(<span class='no'>cfile</span>, <span class='kw'>header</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>skip</span><span class='kw'>=</span><span class='fl'>2</span>, <span class='kw'>check.names</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='no'>comp.mat</span></div><div class='output co'>#&gt;      FL1-H    FL2-H   FL3-H   FL4-H
#&gt; 1 1.000000 0.240000 0.03200 0.00113
#&gt; 2 0.007770 1.000000 0.14000 0.00274
#&gt; 3 0.008690 0.170000 1.00000 0.21000
#&gt; 4 0.000795 0.000995 0.00323 1.00000</div><div class='input'>
<span class='co'>## compensate using the spillover matrix directly</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>samp</span>)</div><div class='output co'>#&gt; $`060909.001`
#&gt;            FSC-H     SSC-H     FL1-H     FL2-H      FL3-H   FL1-A      FL4-H
#&gt; Min.    142.0000    1.0000  1.000000  1.000000   1.000000  0.0000   1.000000
#&gt; 1st Qu. 386.0000  106.0000  3.162278  3.491152   2.838736  0.0000   4.613840
#&gt; Median  423.0000  128.0000  4.104698  4.531584   3.651741  0.0000   7.233942
#&gt; Mean    424.4648  137.7706  4.619515  5.094297   4.180982  0.0105   8.394232
#&gt; 3rd Qu. 462.0000  156.0000  5.376117  5.882084   4.740032  0.0000  10.181517
#&gt; Max.    750.0000 1023.0000 78.438856 98.217189 125.214969 12.0000 598.885433
#&gt; 
#&gt; $`060909.002`
#&gt;            FSC-H     SSC-H       FL1-H     FL2-H      FL3-H     FL1-A
#&gt; Min.    142.0000    2.0000    1.240938    1.0000   1.286397    0.0000
#&gt; 1st Qu. 395.0000  105.0000  697.830585  173.0937  25.945527  163.0000
#&gt; Median  436.0000  128.0000  930.572041  228.7573  33.376247  217.0000
#&gt; Mean    437.1083  139.6543 1007.400078  249.3219  36.070674  241.4928
#&gt; 3rd Qu. 478.0000  158.0000 1229.826226  296.9315  42.550655  288.0000
#&gt; Max.    823.0000 1023.0000 6435.669751 1746.5760 316.227766 1023.0000
#&gt;              FL4-H
#&gt; Min.      1.000000
#&gt; 1st Qu.   5.376117
#&gt; Median    8.278826
#&gt; Mean      9.248539
#&gt; 3rd Qu.  11.547820
#&gt; Max.    865.964323
#&gt; 
#&gt; $`060909.003`
#&gt;            FSC-H     SSC-H       FL1-H     FL2-H      FL3-H       FL1-A
#&gt; Min.    143.0000    1.0000    1.000000    1.0000    1.00000   0.0000000
#&gt; 1st Qu. 399.0000   99.0000    8.278826  572.5488   84.29101   0.0000000
#&gt; Median  438.0000  120.0000   10.181517  791.4755  114.44419   0.0000000
#&gt; Mean    439.6068  131.0683   13.360873  858.8324  128.60253   0.6136273
#&gt; 3rd Qu. 479.0000  148.0000   12.634629 1064.9856  156.78788   0.0000000
#&gt; Max.    747.0000 1023.0000 2267.089941 8058.4219 1610.76153 617.0000000
#&gt;              FL4-H
#&gt; Min.      1.000000
#&gt; 1st Qu.   6.264335
#&gt; Median    9.305720
#&gt; Mean     10.250156
#&gt; 3rd Qu.  12.863969
#&gt; Max.    186.007840
#&gt; 
#&gt; $`060909.004`
#&gt;            FSC-H    SSC-H       FL1-H       FL2-H       FL3-H    FL1-A
#&gt; Min.    141.0000    1.000    1.000000    1.000000    1.000000   0.0000
#&gt; 1st Qu. 404.0000  106.000    3.367780    3.785515    3.718027   0.0000
#&gt; Median  441.0000  129.000    4.371445    4.869675    4.782858   0.0000
#&gt; Mean    442.2971  140.567    5.869876    8.894614    6.451100   0.2166
#&gt; 3rd Qu. 480.0000  159.250    5.777218    6.320934    6.264335   0.0000
#&gt; Max.    882.0000 1023.000 1394.862022 2246.790092 1498.929649 342.0000
#&gt;               FL4-H
#&gt; Min.       1.420181
#&gt; 1st Qu.  289.026391
#&gt; Median   358.663762
#&gt; Mean     399.114158
#&gt; 3rd Qu.  449.100719
#&gt; Max.    9910.458562
#&gt; 
#&gt; $`060909.005`
#&gt;            FSC-H     SSC-H      FL1-H     FL2-H       FL3-H    FL1-A     FL4-H
#&gt; Min.    140.0000    0.0000   1.000000   1.00000    1.485508   0.0000   1.00000
#&gt; 1st Qu. 395.0000  110.0000   3.718027  10.00000   33.677803   0.0000  15.26138
#&gt; Median  429.0000  133.0000   5.002865  14.98930   63.209339   0.0000  20.90800
#&gt; Mean    430.4819  143.8849   5.919921  17.25788   82.879238   0.0796  23.31498
#&gt; 3rd Qu. 465.0000  164.0000   6.731704  21.67392  113.419440   0.0000  28.64384
#&gt; Max.    788.0000 1023.0000 889.649113 513.96968 1498.929649 203.0000 842.91009
#&gt; </div><div class='input'><span class='no'>samp</span> <span class='kw'>&lt;-</span> <span class='fu'>compensate</span>(<span class='no'>samp</span>, <span class='no'>comp.mat</span>)
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>samp</span>)</div><div class='output co'>#&gt; $`060909.001`
#&gt;            FSC-H     SSC-H      FL1-H      FL2-H       FL3-H   FL1-A
#&gt; Min.    142.0000    1.0000  0.9748705  0.3112685   0.4886177  0.0000
#&gt; 1st Qu. 386.0000  106.0000  3.1216476  2.2556718   2.3423500  0.0000
#&gt; Median  423.0000  128.0000  4.0434443  3.0135541   3.0634311  0.0000
#&gt; Mean    424.4648  137.7706  4.5563619  3.3921168   3.5356139  0.0105
#&gt; 3rd Qu. 462.0000  156.0000  5.3077275  3.9840465   4.0298755  0.0000
#&gt; Max.    750.0000 1023.0000 77.1379821 65.3909703 115.4837100 12.0000
#&gt;                FL4-H
#&gt; Min.      0.07356198
#&gt; 1st Qu.   4.00850577
#&gt; Median    6.54383649
#&gt; Mean      7.63730991
#&gt; 3rd Qu.   9.40467405
#&gt; Max.    598.32964722
#&gt; 
#&gt; $`060909.002`
#&gt;            FSC-H     SSC-H       FL1-H      FL2-H      FL3-H     FL1-A
#&gt; Min.    142.0000    2.0000    1.225178  -9.500182 -14.912411    0.0000
#&gt; 1st Qu. 395.0000  105.0000  697.713095   1.833660   1.151590  163.0000
#&gt; Median  436.0000  128.0000  930.538257   4.459861   2.742698  217.0000
#&gt; Mean    437.1083  139.6543 1007.314594   7.079294   2.821286  241.4928
#&gt; 3rd Qu. 478.0000  158.0000 1229.743271   7.273601   4.315744  288.0000
#&gt; Max.    823.0000 1023.0000 6433.872112 229.474811 111.774462 1023.0000
#&gt;              FL4-H
#&gt; Min.     -1.653782
#&gt; 1st Qu.   3.830212
#&gt; Median    6.627982
#&gt; Mean      7.498406
#&gt; 3rd Qu.   9.758926
#&gt; Max.    865.056781
#&gt; 
#&gt; $`060909.003`
#&gt;            FSC-H     SSC-H        FL1-H        FL2-H      FL3-H       FL1-A
#&gt; Min.    143.0000    1.0000   -0.5140784    0.6126043 -10.215617   0.0000000
#&gt; 1st Qu. 399.0000   99.0000    2.8000828  570.5611401   2.893148   0.0000000
#&gt; Median  438.0000  120.0000    3.7929212  790.0688747   6.045448   0.0000000
#&gt; Mean    439.6068  131.0683    6.6322202  855.7791594   8.561511   0.6136273
#&gt; 3rd Qu. 479.0000  148.0000    5.0446053 1064.2509447  10.372666   0.0000000
#&gt; Max.    747.0000 1023.0000 2266.5993076 7974.4423946 494.649317 617.0000000
#&gt;              FL4-H
#&gt; Min.    -95.220974
#&gt; 1st Qu.   2.443668
#&gt; Median    5.522364
#&gt; Mean      6.099909
#&gt; 3rd Qu.   8.828908
#&gt; Max.    172.020884
#&gt; 
#&gt; $`060909.004`
#&gt;            FSC-H    SSC-H       FL1-H       FL2-H       FL3-H    FL1-A
#&gt; Min.    141.0000    1.000  -16.336878 -253.233156   -3.843461   0.0000
#&gt; 1st Qu. 404.0000  106.000    3.050386    2.260482    2.180202   0.0000
#&gt; Median  441.0000  129.000    4.031819    3.018970    3.042886   0.0000
#&gt; Mean    442.2971  140.567    5.467371    6.492448    4.080908   0.2166
#&gt; 3rd Qu. 480.0000  159.250    5.351827    3.977490    4.199364   0.0000
#&gt; Max.    882.0000 1023.000 1394.767835 2234.708581 1503.912092 342.0000
#&gt;               FL4-H
#&gt; Min.      -2.189705
#&gt; 1st Qu.  288.656971
#&gt; Median   358.057848
#&gt; Mean     398.233200
#&gt; 3rd Qu.  448.298275
#&gt; Max.    9903.460750
#&gt; 
#&gt; $`060909.005`
#&gt;            FSC-H     SSC-H      FL1-H        FL2-H       FL3-H    FL1-A
#&gt; Min.    140.0000    0.0000  -3.323577 -136.6745980    1.368162   0.0000
#&gt; 1st Qu. 395.0000  110.0000   2.937035    0.6104716   33.136154   0.0000
#&gt; Median  429.0000  133.0000   4.288507    2.5916301   62.561880   0.0000
#&gt; Mean    430.4819  143.8849   5.183453    1.9974478   82.414356   0.0796
#&gt; 3rd Qu. 465.0000  164.0000   6.060909    4.2000499  113.010888   0.0000
#&gt; Max.    788.0000 1023.0000 889.542632  505.7006502 1497.934759 203.0000
#&gt;               FL4-H
#&gt; Min.    -99.0641730
#&gt; 1st Qu.   0.4953531
#&gt; Median    5.7886969
#&gt; Mean      5.9966387
#&gt; 3rd Qu.  10.8837241
#&gt; Max.    838.5232587
#&gt; </div><div class='input'>
<span class='co'>## create a compensation object and compensate using that</span>
<span class='no'>comp</span> <span class='kw'>&lt;-</span> <span class='fu'>compensation</span>(<span class='no'>comp.mat</span>)
<span class='fu'>compensate</span>(<span class='no'>samp</span>, <span class='no'>comp</span>)</div><div class='output co'>#&gt; A flowSet with 5 experiments.
#&gt; 
#&gt;   column names:
#&gt;   FSC-H SSC-H FL1-H FL2-H FL3-H FL1-A FL4-H</div><div class='input'>
<span class='co'>## demo the sample-specific compensation</span>
<span class='co'>## create a list of comps (each element could be a </span>
<span class='co'>## different compensation tailored for the specific sample)</span>
<span class='no'>comps</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span>(<span class='fu'>sampleNames</span>(<span class='no'>samp</span>), <span class='kw'>function</span>(<span class='no'>sn</span>)<span class='no'>comp</span>, <span class='kw'>simplify</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='co'># the names of comps must be matched to sample names of the flowset</span>
<span class='fu'>compensate</span>(<span class='no'>samp</span>, <span class='no'>comps</span>)</div><div class='output co'>#&gt; A flowSet with 5 experiments.
#&gt; 
#&gt;   column names:
#&gt;   FSC-H SSC-H FL1-H FL2-H FL3-H FL1-A FL4-H</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by B Ellis, Perry Haaland, Florian Hahne, Nolwenn Le Meur, Nishant Gopalakrishnan, Josef Spidlen, Mike Jiang, Greg Finak.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


