<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Simplified geometric transformation of gates — transform_gate • flowCore</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Simplified geometric transformation of gates — transform_gate" />
<meta property="og:description" content="Perform geometric transformations of Gate-type filter objects" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flowCore</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.99.20</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Simplified geometric transformation of gates</h1>
    
    <div class="hidden name"><code>transform_gate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Perform geometric transformations of Gate-type <code><a href='filter-class.html'>filter</a></code> objects</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for default</span>
<span class='fu'>transform_gate</span>(
  <span class='no'>obj</span>,
  <span class='kw'>scale</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>deg</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>rot_center</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>dx</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>dy</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>center</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>obj</th>
      <td><p>A Gate-type <code><a href='filter-methods.html'>filter</a></code> object (<code><a href='quadGate-class.html'>quadGate</a></code>,
<code><a href='rectangleGate-class.html'>rectangleGate</a></code>, <code><a href='ellipsoidGate-class.html'>ellipsoidGate</a></code>, or <code><a href='polygonGate-class.html'>polygonGate</a></code>)</p></td>
    </tr>
    <tr>
      <th>scale</th>
      <td><p>Either a numeric scalar (for uniform scaling in all dimensions) or numeric vector specifying the factor by 
which each dimension of the gate should be expanded (absolute value &gt; 1) or contracted (absolute value &lt; 1). Negative values 
will result in a reflection in that dimension.</p>
<p>For <code>rectangleGate</code> and <code>quadGate</code> objects, this amounts to simply
scaling the values of the 1-dimensional boundaries. For <code>polygonGate</code> objects, the values of <code>scale</code> will be used
to determine scale factors in the direction of each of the 2 dimensions of the gate (<code>scale_gate</code> is not yet defined
for higher-dimensional <code>polytopeGate</code> objects). <strong>Important: </strong> For <code>ellipsoidGate</code> objects, <code>scale</code>
determines scale factors for the major and minor axes of the ellipse, in that order.</p></td>
    </tr>
    <tr>
      <th>deg</th>
      <td><p>An angle in degrees by which the gate should be rotated in the counter-clockwise direction.</p></td>
    </tr>
    <tr>
      <th>rot_center</th>
      <td><p>A separate 2-dimensional center of rotation for the gate, if desired. By default, this will
be the center for <code>ellipsoidGate</code> objects or the centroid for <code>polygonGate</code> objects. The <code>rot_center</code> argument 
is currently only supported for <code>polygonGate</code> objects. It is also usually simpler to perform a rotation and a translation 
individually than to manually specify the composition as a rotation around a shifted center.</p></td>
    </tr>
    <tr>
      <th>dx</th>
      <td><p>Either a numeric scalar or numeric vector. If it is scalar, this is just the desired shift of the gate in 
its first dimension. If it is a vector, it specifies both <code>dx</code> and <code>dy</code> as <code>(dx,dy)</code>.
This provides an alternate syntax for shifting gates, as well as allowing shifts of <code>ellipsoidGate</code> objects
in more than 2 dimensions.</p></td>
    </tr>
    <tr>
      <th>dy</th>
      <td><p>A numeric scalar specifying the desired shift of the gate in its second dimension.</p></td>
    </tr>
    <tr>
      <th>center</th>
      <td><p>A numeric vector specifying where the center or centroid should be moved (rather than specifiying <code>dx</code> 
and/or <code>dy</code>)</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Assignments made to the slots of the particular Gate-type filter object in the form "&lt;slot_name&gt; = &lt;value&gt;"</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A Gate-type <code>filter</code> object of the same type as <code>gate</code>, with the geometric transformations applied</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This method allows changes to the four filter types defined by simple geometric gates (<code><a href='quadGate-class.html'>quadGate</a></code>,
<code><a href='rectangleGate-class.html'>rectangleGate</a></code>, <code><a href='ellipsoidGate-class.html'>ellipsoidGate</a></code>, and <code><a href='polygonGate-class.html'>polygonGate</a></code>) using
equally simple geometric transformations (shifting/translation, scaling/dilation, and rotation). The method also
allows for directly re-setting the slots of each Gate-type object. Note that these methods are for manually altering
the geometric definition of a gate. To easily transform the definition of a gate with an accompanyging scale 
transformation applied to its underlying data, see <code><a href='https://rdrr.io/pkg/ggcyto/man/transform-gate.html'>rescale_gate</a></code>.</p>
<p>First, <code>transform_gate</code> will apply any direct alterations to the slots of the supplied Gate-type filter object.
For example, if "<code>mean = c(1,3)</code>" is present in the argument list when <code>transform_gate</code> is called on a
<code>ellipsoidGate</code> object, the first change applied will be to shift the <code>mean</code> slot to <code>(1,3)</code>. The method
will carry over the dimension names from the gate, so there is no need to provide column or row names with arguments
such as <code>mean</code> or <code>cov</code> for <code>ellipsoidGate</code> or <code>boundaries</code> for <code>polygonGate</code>.</p>
<p><code>transform_gate</code> then passes the geometric arguments (<code>dx</code>, <code>dy</code>, <code>deg</code>, <code>rot_center</code>, <code>scale</code>, 
and <code>center</code>) to the methods which perform each respective type of transformation:  
<code><a href='shift_gate.html'>shift_gate</a></code>, <code><a href='scale_gate.html'>scale_gate</a></code>, or <code><a href='rotate_gate.html'>rotate_gate</a></code>. The order of operations is to first
scale, then rotate, then shift. The default behavior of each operation follows that of its corresponding method but for
the most part these are what the user would expect. A few quick notes:</p><ul>
<li><p><code>rotate_gate</code> is not defined for <code>rectangleGate</code> or <code>quadGate</code> objects, due to their definition as
having 1-dimensional boundaries.</p></li>
<li><p>The default center for both rotation and scaling of a <code>polygonGate</code> is the centroid of the polygon. This
results in the sort of scaling most users expect, with a uniform scale factor not distorting the shape of the original polygon.</p></li>
</ul>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># Scale the original gate non-uniformly, rotate it 15 degrees, and shift it</span>
<span class='no'>transformed_gate</span> <span class='kw'>&lt;-</span> <span class='fu'>transform_gate</span>(<span class='no'>original_gate</span>, <span class='kw'>scale</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2</span>,<span class='fl'>3</span>), <span class='kw'>deg</span> <span class='kw'>=</span> <span class='fl'>15</span>, <span class='kw'>dx</span> <span class='kw'>=</span> <span class='fl'>500</span>, <span class='kw'>dy</span> <span class='kw'>=</span> -<span class='fl'>700</span>)

<span class='co'># Scale the original gate (in this case an ellipsoidGate) after moving its center to (1500, 2000)</span>
<span class='no'>transformed_gate</span> <span class='kw'>&lt;-</span> <span class='fu'>transform_gate</span>(<span class='no'>original_gate</span>, <span class='kw'>scale</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2</span>,<span class='fl'>3</span>), <span class='kw'>mean</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1500</span>, <span class='fl'>2000</span>))
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by B Ellis, Perry Haaland, Florian Hahne, Nathan Le Meur, Nishant Gopalakrishnan, Josef Spidlen, Mike Jiang, Greg Finak.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


